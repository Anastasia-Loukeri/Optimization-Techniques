function [x_opt, f_opt, N] = bisection_gradient(f, f_prime, a, b, l_target)

% 
% Είσοδοι:
%   f:         Function handle της αρχικής συνάρτησης f(x) (για τον τελικό υπολογισμό f_opt).
%   f_prime:   Function handle της παραγώγου f'(x) (για τον αλγόριθμο).
%   a, b:      Όρια του αρχικού διαστήματος [a, b].
%   l_target:  Το επιθυμητό τελικό μήκος του διαστήματος (<= l_target).

%
% Έξοδοι:
%   x_opt:     Η εκτιμώμενη θέση του ελαχίστου.
%   f_opt:     Η τιμή της συνάρτησης στο x_opt.
%   N:         Συνολικός αριθμός υπολογισμών της παραγώγου f'(x).

    ak = a;
    bk = b;
    N = 0; % Μετρητής υπολογισμών παραγώγου
    
    % Βρόχος Επανάληψης: Τερματίζει όταν το διάστημα είναι αρκετά μικρό.
    while (bk - ak) > l_target
        
        % 1. Εύρεση του μέσου σημείου
        xm = (ak + bk) / 2;
        
        % 2. Υπολογισμός της παραγώγου στο μέσο σημείο (N αυξάνεται κατά 1)
        f_prime_xm = f_prime(xm);
        N = N + 1;
        
      
        
        % 4. Μείωση Διαστήματος
        if f_prime_xm < 0 
            % f' < 0: Η συνάρτηση μειώνεται, το ελάχιστο είναι δεξιά.
            ak = xm;
        
        else % f_prime_xm > 0 
            % f' > 0: Η συνάρτηση αυξάνεται, το ελάχιστο είναι αριστερά.
            bk = xm;
        end
    end
    
    % 5. Τελική Εκτίμηση
    % Το ελάχιστο εκτιμάται στο μέσο του τελικού διαστήματος
    x_opt = (ak + bk) / 2;
    f_opt = f(x_opt); % Υπολογισμός f(x) για την τελική τιμή.
end